const c=require("./match"),o=require("fs"),l=require("path");function u(e,r){if(e.inicioFecha=e.inicioFecha||null,e.finFecha=e.finFecha||null,e.comienzo=e.comienzo||"",e.fin=e.fin||"",!e||Object.keys(e).length===0)return;c.configurarPartido(e),console.log("\u2705 Partido configurado en memoria:",e);const i=l.join(__dirname,"..","scanner","whiteList.json"),n={pareja1:{nombrePulsera:e.pulseras.pareja1.nombre,macPulsera:e.pulseras.pareja1.mac,jugadores:e.parejas.pareja1},pareja2:{nombrePulsera:e.pulseras.pareja2.nombre,macPulsera:e.pulseras.pareja2.mac,jugadores:e.parejas.pareja2}};o.writeFile(i,JSON.stringify(n,null,2),a=>{a?console.error("\u274C Error al guardar whitelist:",a):console.log(`\u2705 whitelist guardada en ${i}`)}),r&&(r.emit("configuracionActualizada",e),console.log('\u{1F514} Evento "configuracionActualizada" emitido'))}module.exports={configurarPartido:u};
